<?xml version="1.0"?>

<!-- Include the domain DTD definition. -->
<!DOCTYPE domain SYSTEM "domain.dtd"[
    <!ENTITY BIN_DIR "./bin/">
    <!ENTITY STATE_DIR "/tmp/eml/state/">
    <!ENTITY RUN_DIR "/home/eml/projects/carma/Carma/devel/build/">
    <!ENTITY DEFAULT_DIR "/home/eml/projects/carma/Carma/devel/build/">
    <!ENTITY DBMS "useDBMS=false">
    <!ENTITY USE_DB "useDBMS=false">
    <!ENTITY LOG "">
    <!ENTITY STATE "shared">
    <!ENTITY SIMCARMAINI "correlator/carma15-test.ini">
    <!ENTITY SIMCARMABANDXML SYSTEM "simCarmaBand.xml">
    <!ENTITY SIMBANDSERVER "localhost">
    <!ENTITY SIMCOBRASERVER "localhost">
    <!ENTITY SIMWIDEBANDXML SYSTEM "simWideBand.xml" >
    <!ENTITY SIMCOBRAINI "correlator/sza16Sim.ini" >
    <!ENTITY SIMULATE "true">
]>

<domain>


<!-- 
    <oad hostname="build.ovro.pvt">

       <server name="FrameCollator" 
                path="&BIN_DIR;frameCollator"
                directory="&RUN_DIR;" 
                args="&LOG; &DBMS; delay=600" 
                optargs="-ORBSvcConf &RUN_DIR;/conf/tao/fc.conf"
                system="monitor"
                critical="true"
                startup-priority="&monitor-core;"/>
        
       <server name="FaultSystem" 
                path="&BIN_DIR;faultSystem"
                directory="&RUN_DIR;" 
                args="&LOG; &DBMS; outputCMS=intermediate"
                system="monitor"
                startup-priority="&monitor;"/>

        <server name="signalPathFSP" 
                path="&BIN_DIR;/frameScriberPublisher"
	        directory="&RUN_DIR;" 
	        args="&LOG; &DBMS;  
                subsystem=signalpath delay=145"
                startup-priority="&monitor;" />
    
        <server name="SignalPathMapper" 
                path="&BIN_DIR;/carmaSignalPathMapper"
	        directory="&RUN_DIR;" 
                args="&LOG;"
                startup-priority="&subsystem;"/>

        <server name="Subarray1" 
                path="&BIN_DIR;/subarrayControl"
                directory="&RUN_DIR;" 
                args="subarrayNo=1 runSAT=true &LOG; &DBMS;"
                optargs="-ORBSvcConf &BIN_DIR;/../conf/tao/fc.conf"
                system="control" critical="true" 
                startup-priority="&control;"/>

        <server name="Subarray2" 
                path="&BIN_DIR;/subarrayControl"
                directory="&RUN_DIR;" 
                args="subarrayNo=2 runSAT=true &LOG; &DBMS; " 
                optargs="-ORBSvcConf &BIN_DIR;/../conf/tao/fc.conf"
                system="control" critical="true"
                startup-priority="&control;"/>

        <server name="ControlState" path="&BIN_DIR;/carmaControlState"
                directory="&RUN_DIR;"
                args="&LOG; &DBMS; statedir=&STATE_DIR;"
                system="control" critical="false" />

        <server name="ControlFSP" 
                path="&BIN_DIR;frameScriberPublisher"
                directory="&RUN_DIR;" 
                args="&LOG; &DBMS; subsystem=control"
                system="monitor"
                startup-priority="&monitor;"/>
        
        <server name="carmaMonitorSystemServer" 
                path="&BIN_DIR;/tCmss"
                directory="&RUN_DIR;" 
                args="&LOG; &DBMS;"
                startup-priority="&monitor;"/>

        <server name="carmaFastMonitorSystemReserver" 
                path="&BIN_DIR;/tCmsr"
                directory="&RUN_DIR;" 
                args="&LOG; &DBMS; host=build.ovro.pvt"
                startup-priority="&monitor;"/>

        <server name="carmaMonitorSystemArchiverOneMinute" 
                path="&BIN_DIR;/tCmsa"
                directory="&DEFAULT_DIR;" 
                args="&LOG; &USE_DB; host=localhost clientPort=5666 arcdir=/tmp/mpstore/oneMinute"
                startup-priority="&monitor;"/>

        <server name="carmaMonitorSystemArchiverHalfSecond" 
                path="&BIN_DIR;/tCmsa"
                directory="&DEFAULT_DIR;" 
                args="&LOG; &USE_DB; host=localhost clientPort=5666 nframe=1 arcdir=/tmp/mpstore/halfSecond"
                startup-priority="&monitor;"/>

        <server name="carmaSlowMonitorSystemReserver" 
                path="&BIN_DIR;/tCmsr"
                directory="&RUN_DIR;" 
                args="&LOG; &DBMS; host=build.ovro.pvt serverPort=5667"
                startup-priority="&monitor;"/>

        <server name="carmaMonitorSystemArchiverWbcorr" 
                path="&BIN_DIR;/tCmsa"
                directory="&DEFAULT_DIR;" 
                args="&LOG; &USE_DB; host=localhost clientPort=5666 corr=wb arcdir=/tmp/mpstore/wbcorr"
                startup-priority="&monitor;"/>

        <server name="carmaMonitorSystemArchiverSlcorr" 
                path="&BIN_DIR;/tCmsa"
                directory="&DEFAULT_DIR;" 
                args="&LOG; &USE_DB; host=localhost clientPort=5666 corr=sl arcdir=/tmp/mpstore/slcorr"
                startup-priority="&monitor;"/>

    </oad>
-->

    <oad hostname="s3.carma.pvt">

       <server name="FrameCollator" 
                path="&BIN_DIR;frameCollator"
                directory="&RUN_DIR;" 
                args="&LOG; &DBMS; delay=600" 
                optargs="-ORBSvcConf &RUN_DIR;/conf/tao/fc.conf"
                system="monitor"
                critical="true"
                startup-priority="&monitor-core;"/>
        
       <server name="FaultSystem" 
                path="&BIN_DIR;faultSystem"
                directory="&RUN_DIR;" 
                args="&LOG; &DBMS; outputCMS=intermediate"
                system="monitor"
                startup-priority="&monitor;"/>

        <server name="signalPathFSP" 
                path="&BIN_DIR;/frameScriberPublisher"
	        directory="&RUN_DIR;" 
	        args="&LOG; &DBMS;  
                subsystem=signalpath delay=145"
                startup-priority="&monitor;" />
    
        <server name="SignalPathMapper" 
                path="&BIN_DIR;/carmaSignalPathMapper"
	        directory="&RUN_DIR;" 
                args="&LOG;"
                startup-priority="&subsystem;"/>

        <server name="Subarray1" 
                path="&BIN_DIR;/subarrayControl"
                directory="&RUN_DIR;" 
                args="subarrayNo=1 runSAT=true &LOG; &DBMS;"
                optargs="-ORBSvcConf &BIN_DIR;/../conf/tao/fc.conf"
                system="control" critical="true" 
                startup-priority="&control;"/>

        <server name="Subarray2" 
                path="&BIN_DIR;/subarrayControl"
                directory="&RUN_DIR;" 
                args="subarrayNo=2 runSAT=true &LOG; &DBMS; " 
                optargs="-ORBSvcConf &BIN_DIR;/../conf/tao/fc.conf"
                system="control" critical="true"
                startup-priority="&control;"/>

        <server name="ControlState" path="&BIN_DIR;/carmaControlState"
                directory="&RUN_DIR;" 
                args="&LOG; &DBMS; statedir=&RUN_DIR;"
                system="control" critical="false" />

        <server name="ControlFSP" 
                path="&BIN_DIR;frameScriberPublisher"
                directory="&RUN_DIR;" 
                args="&LOG; &DBMS; subsystem=control"
                system="monitor"
                startup-priority="&monitor;"/>
        
        <server name="CorrDataRemapper" 
                path="&BIN_DIR;carmaCorrelatorDataRemapper"
                directory="&RUN_DIR;"
                args="&LOG; &DBMS;"
                startup-priority="&subsystem-core;"
                system="data"
                critical="true" />

        <server name="SlcDataCatcher" 
                path="&BIN_DIR;catchData"
                directory="&RUN_DIR;" 
                args="&LOG; &DBMS; mode=sl"
                system="data" critical="true"
                startup-priority="&subsystem;"/>

        <server name="SlPipelineFSP" 
                path="&BIN_DIR;frameScriberPublisher"
                directory="&RUN_DIR;" 
                args="&LOG; &DBMS; subsystem=slpipeline delay=400" 
                startup-priority="&monitor;"/>

        <server name="AstroFSP" 
                path="&BIN_DIR;frameScriberPublisher"
                directory="&RUN_DIR;" 
                args="&LOG; &DBMS; subsystem=astro delay=400" 
                startup-priority="&monitor;"/>

        <server name="SlPipeline" 
                path="&BIN_DIR;pipeline"
                directory="&RUN_DIR;" 
                args="&LOG; &DBMS; mode=sl vbdir=/tmp/eml monitorDelay=350 traceLevel=0" 
                system="data" critical="true"
                startup-priority="&subsystem;" />

        <server name="SimSlcBand1FSP"
                path="&BIN_DIR;frameScriberPublisher"
                directory="&RUN_DIR;"
                args="&LOG; &USE_DB; subsystem=CarmaSlcBand1"
                system="correlator" />
        
        <server name="SimSlcBand1CarmaServer" path="&BIN_DIR;CorrelatorCarmaServer"
                directory="&RUN_DIR;"
                args="b=1 p=19001 f=correlator/slcorrelator.conf hwtype=carma &LOG;"
                critical="true" 
                system="correlator" 
                startup-priority="&pre-subsystem;"/>                

        <server name="SimSlcBand1Server" path="&BIN_DIR;/CorrelatorBandServer"
                directory="&RUN_DIR;"
                args="&LOG; y=true b=1 simulate=&SIMULATE; i=&SIMCARMAINI;" 
                critical="true" 
                system="correlator" 
                startup-priority="&subsystem;"/>

    </oad>

<!-- 
    <oad hostname="c99.carma.pvt">

       <server name="Sza1FSP" 
               path="&BIN_DIR;/frameScriberPublisher"
               directory="&RUN_DIR;" 
               args="&LOG; &DBMS; subsystem=sza1 delay=275" 
               startup-priority="&monitor;" />

       <server name="Sza1Control" 
               path="&BIN_DIR;/szaAntennaControl"
               args="&LOG; antenna=0 simcanbus=t simpmac=t logd=/home/eml logf=c99 host=localhost connect=f" />

    </oad>

    <oad hostname="storage1.mmarray.org">

       <server name="Sza1FSP" 
               path="&BIN_DIR;/frameScriberPublisher"
               directory="&RUN_DIR;" 
               args="&LOG; &DBMS; subsystem=sza1 delay=275" 
               startup-priority="&monitor;" />

       <server name="Sza1Control" 
               path="&BIN_DIR;/szaAntennaControl"
               args="&LOG; antenna=0 simcanbus=t simpmac=t logd=/home/eml logf=c99 host=localhost connect=f" />

    </oad>
-->

</domain>
